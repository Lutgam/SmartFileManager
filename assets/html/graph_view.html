<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºæ…§æª”æ¡ˆç®¡å®¶ - é›™è¦–åœ–åŸå‹</title>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <!-- å¼•å…¥ FontAwesome åœ–ç¤º -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { margin: 0; padding: 0; background-color: #1e1e1e; color: #e0e0e0; font-family: 'Segoe UI', sans-serif; overflow: hidden; height: 100vh; display: flex; flex-direction: column; }
        
        /* é ‚éƒ¨åˆ‡æ›åˆ— */
        .toolbar {
            height: 50px;
            background-color: #2d2d2d;
            border-bottom: 1px solid #3e3e3e;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 0 20px;
        }
        
        .view-btn {
            background: transparent;
            border: none;
            color: #888;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: 0.2s;
        }
        
        .view-btn:hover { background-color: #3d3d3d; color: #fff; }
        .view-btn.active { background-color: #4a4a4a; color: #fff; }

        /* å…§å®¹å®¹å™¨ */
        .container { flex: 1; position: relative; overflow: hidden; }

        /* è¦–åœ– 1: é—œè¯åœ– (Graph) */
        #graph-view { width: 100%; height: 100%; position: absolute; top: 0; left: 0; }
        
        /* è¦–åœ– 2: ç•«å»Šåˆ—è¡¨ (Gallery - Finder Style) */
        #gallery-view { 
            width: 100%; height: 100%; 
            position: absolute; top: 0; left: 0; 
            display: none; /* é è¨­éš±è— */
            flex-direction: row;
        }

        /* Gallery å·¦å´åˆ—è¡¨ */
        .file-list {
            width: 300px;
            background-color: #252526;
            border-right: 1px solid #3e3e3e;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }
        
        .file-item {
            padding: 12px 20px;
            border-bottom: 1px solid #2d2d2d;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: 0.2s;
        }
        .file-item:hover { background-color: #37373d; }
        .file-item.selected { background-color: #094771; color: white; }
        .file-icon { font-size: 18px; color: #a0a0a0; }

        /* Gallery å³å´é è¦½ */
        .preview-pane {
            flex: 1;
            background-color: #1e1e1e;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }
        
        .preview-content {
            background-color: white;
            width: 80%;
            height: 80%;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            flex-direction: column;
        }

        .hint { position: absolute; bottom: 20px; right: 20px; background: rgba(0, 0, 0, 0.5); padding: 10px; border-radius: 8px; font-size: 12px; color: #ccc; pointer-events: none; z-index: 100; }
    </style>
</head>
<body>

    <!-- é ‚éƒ¨åˆ‡æ›æŒ‰éˆ• -->
    <div class="toolbar">
        <button class="view-btn active" onclick="switchView('graph')">
            <i class="fa-solid fa-circle-nodes"></i> é—œè¯åœ– (Graph)
        </button>
        <button class="view-btn" onclick="switchView('gallery')">
            <i class="fa-solid fa-table-cells-large"></i> ç•«å»Šåˆ—è¡¨ (Gallery)
        </button>
    </div>

    <div class="container">
        <!-- è¦–åœ– 1: Anytype é¢¨æ ¼é—œè¯åœ– -->
        <div id="graph-view"></div>

        <!-- è¦–åœ– 2: macOS Finder é¢¨æ ¼åˆ—è¡¨ -->
        <div id="gallery-view">
            <div class="file-list">
                <!-- æ¨¡æ“¬æª”æ¡ˆåˆ—è¡¨ -->
                <div class="file-item selected" onclick="selectFile(this, 'PDF')">
                    <i class="fa-solid fa-file-pdf file-icon"></i>
                    <div>
                        <div style="font-weight:bold;">å°ˆé¡Œå ±å‘Š.pdf</div>
                        <div style="font-size:12px; color:#888;">#å°ˆæ¡ˆ #å­¸æ ¡</div>
                    </div>
                </div>
                <div class="file-item" onclick="selectFile(this, 'IMG')">
                    <i class="fa-solid fa-file-image file-icon"></i>
                    <div>
                        <div style="font-weight:bold;">IMG_001.jpg</div>
                        <div style="font-size:12px; color:#888;">#åœ–ç‰‡ #ç”Ÿæ´»</div>
                    </div>
                </div>
                <div class="file-item" onclick="selectFile(this, 'DOC')">
                    <i class="fa-solid fa-file-word file-icon"></i>
                    <div>
                        <div style="font-weight:bold;">åˆç´„æ›¸.docx</div>
                        <div style="font-size:12px; color:#888;">#å°ˆæ¡ˆ #é‡è¦</div>
                    </div>
                </div>
            </div>
            
            <div class="preview-pane">
                <div class="preview-content">
                    <i class="fa-solid fa-file-pdf" style="font-size: 60px; color: #e74c3c; margin-bottom: 20px;"></i>
                    <h2>å°ˆé¡Œå ±å‘Š.pdf</h2>
                    <p>PDF å…§å®¹é è¦½å€åŸŸ</p>
                    <p style="color: gray;">(æ”¯æ´ç¿»é å‹•ç•«)</p>
                </div>
            </div>
        </div>
    </div>

    <div class="hint" id="hint-text">ğŸ’¡ æ‹–æ›³ç¯€é»å¯åˆ†é¡ï¼Œæ»¾è¼ªå¯ç¸®æ”¾</div>

    <script type="text/javascript">
        // --- è¦–åœ–åˆ‡æ›é‚è¼¯ ---
        function switchView(mode) {
            const graphView = document.getElementById('graph-view');
            const galleryView = document.getElementById('gallery-view');
            const btns = document.querySelectorAll('.view-btn');
            const hint = document.getElementById('hint-text');

            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            btns.forEach(b => b.classList.remove('active'));
            
            if (mode === 'graph') {
                graphView.style.display = 'block';
                galleryView.style.display = 'none';
                btns[0].classList.add('active');
                hint.style.display = 'block';
            } else {
                graphView.style.display = 'none';
                galleryView.style.display = 'flex';
                btns[1].classList.add('active');
                hint.style.display = 'none';
            }
        }

        // --- ç•«å»Šæ¨¡å¼ï¼šé»æ“Šæª”æ¡ˆæ¨¡æ“¬ ---
        function selectFile(el, type) {
            // ç§»é™¤å…¶ä»–é¸å–ç‹€æ…‹
            document.querySelectorAll('.file-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            
            // æ›´æ–°å³å´æ¨¡æ“¬é è¦½
            const previewBox = document.querySelector('.preview-content');
            let iconHtml = '';
            if(type === 'PDF') iconHtml = '<i class="fa-solid fa-file-pdf" style="font-size: 60px; color: #e74c3c; margin-bottom: 20px;"></i>';
            else if(type === 'IMG') iconHtml = '<i class="fa-solid fa-image" style="font-size: 60px; color: #3498db; margin-bottom: 20px;"></i>';
            else iconHtml = '<i class="fa-solid fa-file-word" style="font-size: 60px; color: #2980b9; margin-bottom: 20px;"></i>';

            previewBox.innerHTML = `
                ${iconHtml}
                <h2>${el.querySelector('div div').innerText}</h2>
                <p>AI è¾¨è­˜æ¨™ç±¤: ${el.querySelector('div div:last-child').innerText}</p>
            `;
        }

        // --- Vis.js é—œè¯åœ–è¨­å®š (ä¿æŒä¸è®Š) ---
        var nodes = new vis.DataSet([
            { id: 1, label: 'å°ˆæ¡ˆ Projects', group: 'tag', shape: 'dot', size: 25, color: '#eab308' },
            { id: 2, label: 'å­¸æ ¡ School', group: 'tag', shape: 'dot', size: 20, color: '#3b82f6' },
            { id: 3, label: 'åœ–ç‰‡ Images', group: 'tag', shape: 'dot', size: 20, color: '#ef4444' },
            { id: 101, label: 'å°ˆé¡Œå ±å‘Š.pdf', group: 'file' },
            { id: 102, label: 'IMG_001.jpg', group: 'file' },
            { id: 103, label: 'åˆç´„æ›¸.docx', group: 'file' }
        ]);
        var edges = new vis.DataSet([
            { from: 101, to: 1 }, { from: 101, to: 2 }, { from: 102, to: 3 }, { from: 103, to: 1 }
        ]);
        var container = document.getElementById('graph-view');
        var data = { nodes: nodes, edges: edges };
        var options = {
            nodes: { shape: 'dot', font: { color: '#ffffff' } },
            physics: { enabled: true, barnesHut: { gravitationalConstant: -2000, springLength: 95 } }
        };
        var network = new vis.Network(container, data, options);
    </script>
</body>
</html>